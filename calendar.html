<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shepherd Calendar</title>
<style>
:root {
    --primary-color: #53599A;
    --secondary-color: #6D9DC5;
    --accent-color1: #068D9D;
    --accent-color2: #80DED9;
    --passive-color: #AEECEF;
}

/* Global */
html { font-family: Georgia, 'Times New Roman', Times, serif; }
body {
    background-color: var(--passive-color);
    margin: 0;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

/* Header */
header {
    background-color: var(--primary-color);
    font-weight: bold;
}
header ul {
    display: flex;
    justify-content: center;
    gap: 80px;
    padding: 40px;
}
header ul li {
    list-style: none;
    font-size: 20px;
}
header a {
    text-decoration: none;
    color:white;
}

/* Main Calendar Container */
#main-content {
    flex: 1; /* Fill space between header/footer */
    display: flex;
    padding: 20px;
}

/* Calendar Controls Box */
#controls-box {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 15px;
    padding: 10px;
    border: 2px solid #000;
    border-radius: 8px;
    background-color: #f0f0f0;
}
#calendar-controls {
    display: flex;
    gap: 10px;
    align-items: center;
}

/* Calendar */
#calendar { 
    width: 1000px;
    border: 3px black solid;
    padding: .1em .1em 1em .5em;
}
h3 {
    text-align: center;
    font-size: 2em;
}
.day { 
    display:inline-block; 
    width:100px; 
    height:100px; 
    line-height:40px; 
    margin:3px; 
    text-align:center; 
    background:#eee; 
    border-radius:5px; 
    cursor:pointer; 
}
.day:hover { background:#AEECEF; }
.today { background:#068D9D; }
.placeholder { background:transparent; cursor:default; }

/* Sidebar */
#sidebar { 
    flex:1; 
    padding:20px; 
    border-left:2px solid #ddd; 
    background:#f9f9f9; 
    display:none; 
    overflow-y:auto; 
}
#sidebar-header {
    display:flex;
    justify-content: space-between;
    align-items: center;
}
#close-sidebar {
    background: #ff5c5c;
    color: white;
    border: none;
    font-size: 1.2em;
    font-weight: bold;
    cursor: pointer;
    width: 30px;
    height: 30px;
    border-radius: 5px;
    line-height: 28px;
    text-align: center;
}
#close-sidebar:hover { background: #ff0000; }
textarea { width:100%; height:150px; margin-top:10px; font-size:1em; }
button.save-btn, button.save-close-btn { margin-top:10px; padding:5px 10px; cursor:pointer; font-size:1em; }

/* Footer */
footer {
    background-color: var(--primary-color);
    font-weight: bold;
    color: white;
    padding: 50px;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
#face, #x, #insta { max-height: 40px; max-width: 40px; margin-left: 10px; }
@media (max-width: 800px) {
    header ul { flex-direction: column; gap: 10px; text-align: center; }
}
</style>
</head>
<body>

<!-- Header -->
<header>
    <ul>
        <li><a href="#">Board</a></li>
        <li><a href="#">Calendar</a></li>
        <li><a href="#">Map</a></li>
    </ul>
</header>

<!-- Main Content -->
<div id="main-content">
    <div id="calendar-container">
        <div id="controls-box">
            <div id="calendar-controls">
                <label for="month-select">Month:</label>
                <select id="month-select"></select>
                <label for="year-select">Year:</label>
                <select id="year-select"></select>
            </div>
        </div>
        <div id="calendar"></div>
    </div>

    <div id="sidebar">
        <div id="sidebar-header">
            <h2 id="sidebar-title">Day Details</h2>
            <button id="close-sidebar">Ã—</button>
        </div>
        <div id="sidebar-content"><p>Select a day to view or add plans.</p></div>
    </div>
</div>

<!-- Footer -->
<footer>
    <div>
        <p>Shepherd &copy; 2025 - MinisterMe</p>
        <p><a href="#">Report A Problem</a></p>
        <p><a href="#">Contact Info</a></p>
        <p>Socials</p>
    </div>
    <div>
        <a href="#">Facebook <img id="face" src="images/Facebook_Logo_2023.png" alt="Facebook Logo"></a>
        <a href="#">Instagram <img id="insta" src="images/instagram-logo-instagram-icon-transparent-free-png.webp" alt="Instagram Logo"></a>
        <a href="#">X <img id="x" src="images/pngimg.com - x_logo_PNG17.png" alt="X logo"></a>
    </div>
</footer>

<script>
// Calendar JS
document.addEventListener('DOMContentLoaded', function() {
  const calendarEl = document.getElementById('calendar');
  const sidebar = document.getElementById('sidebar');
  const sidebarTitle = document.getElementById('sidebar-title');
  const sidebarContent = document.getElementById('sidebar-content');
  const monthSelect = document.getElementById('month-select');
  const yearSelect = document.getElementById('year-select');
  const closeBtn = document.getElementById('close-sidebar');

  // Close sidebar button
  closeBtn.addEventListener('click', () => { sidebar.style.display = 'none'; });

  // Populate months
  const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
  months.forEach((m,i)=>{
    const option = document.createElement('option');
    option.value = i;
    option.textContent = m;
    monthSelect.appendChild(option);
  });

  // Populate years
  for(let y=2020; y<=2030; y++){
    const option = document.createElement('option');
    option.value = y;
    option.textContent = y;
    yearSelect.appendChild(option);
  }

  // Current month/year
  const now = new Date();
  monthSelect.value = now.getMonth();
  yearSelect.value = now.getFullYear();

  function renderCalendar(year, month){
    const today = new Date();
    const firstDay = new Date(year, month,1);
    const lastDay = new Date(year, month+1,0);
    let html = `<h3>${months[month]} ${year}</h3>`;
    for(let i=0;i<firstDay.getDay();i++) html += `<div class="day placeholder"></div>`;
    for(let d=1; d<=lastDay.getDate(); d++){
      const isToday = d===today.getDate() && month===today.getMonth() && year===today.getFullYear();
      html += `<div class="day ${isToday ? 'today' : ''}" onclick="selectDate(${year},${month},${d})">${d}</div>`;
    }
    calendarEl.innerHTML = html;
  }

  window.selectDate = function(year, month, day){
    sidebar.style.display = 'block';
    const dateStr = `${year}-${month+1}-${day}`;
    sidebarTitle.textContent = `Plan for ${dateStr}`;
    sidebarContent.innerHTML = `
      <p><strong>Events or tasks for ${dateStr}:</strong></p>
      <textarea placeholder="Enter your plan here...">${localStorage.getItem("plan-" + dateStr) || ""}</textarea>
      <button class="save-btn">Save</button>
      <button class="save-close-btn">Save & Close</button>
      <div id="saved-message" style="color:green; margin-top:5px;"></div>
    `;
    const textarea = sidebarContent.querySelector("textarea");
    document.querySelector(".save-btn").onclick = function(){
      localStorage.setItem("plan-" + dateStr, textarea.value);
      document.getElementById("saved-message").textContent = "Saved!";
    };
    document.querySelector(".save-close-btn").onclick = function(){
      localStorage.setItem("plan-" + dateStr, textarea.value);
      sidebar.style.display = 'none';
    };
  };

  monthSelect.addEventListener('change', ()=>{
    renderCalendar(parseInt(yearSelect.value), parseInt(monthSelect.value));
  });
  yearSelect.addEventListener('change', ()=>{
    renderCalendar(parseInt(yearSelect.value), parseInt(monthSelect.value));
  });

  renderCalendar(parseInt(yearSelect.value), parseInt(monthSelect.value));
});
</script>

</body>
</html>
